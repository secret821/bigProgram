<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="shortcut icon" href="static/img/favicon.ico" type="image/x-icon"/>
    <link type="text/css" rel="stylesheet" href="static/manger/css/style.css">
    <link type="text/css" rel="stylesheet" href="static/manger/css/pintuer.css">
    <link type="text/css" rel="stylesheet" href="static/manger/css/admin.css">
    <script type="text/javascript" src="static/js/jquery.js"></script>
    <script src="static/manger/js/pintuer.js"></script>
    <script src="//unpkg.com/layui@2.6.5/dist/layui.js"></script>
</head>

<body>
<div id="app">
    <div class="panel admin-panel">
        <div class="panel-head" id="add">
            <strong><span class="icon-pencil-square-o">Edit</span></strong>
        </div>
        <div class="body-content">
            <form class="form-x" enctype="multipart/form-data">
                <input type="hidden" name="id" value="${obj.id}">
                <div class="form-group">
                    <div class="label"><label>图片ID:</label></div>
                    <div class="field">
                        <input type="text" class="input w50" v-model="img.imgId"/>
                        <div class="tips"></div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="label"><label>样式:</label></div>
                    <div class="field">
                        <select name="banner" class="input w50">
                            <option v-for="banner in banners" :value="banner.title">{{banner.title}}</option>
                        </select>
                        <select v-model="selectedOption" class="input w50">
                            <option v-for="option in banners" :value="option">{{option.city}}</option>
                        </select>
                        <div class="tips"></div>
                    </div>
                </div>
                <!-- <div class="form-group">
                     <div class="label"><label>主图:</label></div>
                     <div class="field">
                         <input type="file" class="input w50" name="file"/>
                         <div class="tips"><img src="${obj.url1}" alt="${obj.url1}"></div>
                     </div>
                 </div>-->
                <!--   <div class="form-group">
                    <div class="label"><label>价格折扣:</label></div>
                    <div class="field">
                        <input type="text" class="input w50" name="zk" data-validate="required:请输入商品折扣" value="${obj.zk}"/>
                        <div class="tips"></div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="label"><label>副图1:</label></div>
                    <div class="field">
                        <input type="file" class="input w50" name="file"/>
                        <div class="tips">
                            <div class="tips"><img src="${obj.url2}" alt="${obj.url2}">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="label"><label>副图2:</label></div>
                    <div class="field">
                        <input type="file" class="input w50" name="file"/>
                        <div class="tips">
                            <div class="tips"><img src="${obj.url3}" alt="${obj.url3}"></div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="label"><label>副图3:</label></div>
                    <div class="field">
                        <input type="file" class="input w50" name="file"/>
                        <div class="tips">
                            <div class="tips"><img src="${obj.url4}" alt="${obj.url4}"></div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="label"><label>副图4:</label></div>
                    <div class="field">
                        <input type="file" class="input w50" name="file"/>
                        <div class="tips">
                            <div class="tips"><img src="${obj.url5}" alt="${obj.url5}"></div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="label"><label>描述:</label></div>
                    <div class="field">
                        <script type="text/plain" id="remark_txt_1" name="ms" style="width: 100%;height: 300px;">${obj.ms}</script>
                        <script type="text/javascript">
                            var editor = UE.getEditor('remark_txt_1');
                            UE.Editor.prototype._bkGetActionUrl = UE.Editor.prototype.getActionUrl;
                            UE.Editor.prototype.getActionUrl = function (action) {
                                if(action == 'uploadimage' || action == 'uploadscrawl' || action == 'uploadvideo'){
                                    return '${pageContext.request.contextPath}/ueditor/saveFile';
                                }else{
                                    return this._bkGetActionUrl.call(this,action);
                                }
                            }
                        </script>
                        <div class="tips"></div>
                    </div>
                </div>
--><!--
                <div class="form-group">
                    <div class="label"></div>
                    <div class="field">
                        <button class="button bg-main icon-check-square-o" type="submit">提交</button>
                    </div>
                </div>-->
            </form>
        </div>
    </div>
</div>
<script type="text/javascript" src="static/js/utils.js"></script>
<script type="text/javascript" src="static/js/cookie_utils.js"></script>
<script type="text/javascript" src="static/js/vue.js"></script>
<script type="text/javascript" src="static/js/axios.min.js"></script>
<script>
    var baseUrl = "http://localhost:8080/";
    var vm = new Vue({
        el: "#app",
        data: {
            img: {},
            imgId: "",
            banners: []
        },

        created() {
            this.ImgId = getUrlParam("ID");
            axios({
                url: baseUrl + "index/queryById",
                method: "get",
                params: {
                    imgId: this.ImgId,
                }
            }).then(res => {
                if (res.data.code = 10000) {
                    this.img = res.data.data;
                }
            });
            axios({
                url: baseUrl + "index/queryStyle",
                method: "get",
            }).then(res => {
                if (res.data.code = 10000) {
                    this.banners = res.data.data;
                }
            })
        },
    })
</script>
</body>
</html>